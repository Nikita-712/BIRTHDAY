<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Letter üíå</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Playfair+Display:wght@600;700;800&display=swap" rel="stylesheet">

  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      height:100vh;
      overflow:hidden;
      font-family: Arial, sans-serif;
      background:#120424;
    }

    /* Back button */
    .back{
      position: fixed;
      top: 14px;
      left: 14px;
      z-index: 9999;
      padding: 10px 14px;
      border-radius: 999px;
      text-decoration: none;
      font-weight: 900;
      background: rgba(255,255,255,0.18);
      color: white;
      border: 1px solid rgba(255,255,255,0.22);
      backdrop-filter: blur(10px);
    }

    /* INTRO ICON */
    #intro{
      position: fixed;
      inset: 0;
      display:flex;
      justify-content:center;
      align-items:center;
      z-index: 5;
    }

    #icon{
      width: min(260px, 60vw);
      height: auto;
      transition: transform 1.1s ease, opacity 0.6s ease;
      will-change: transform;
      filter: drop-shadow(0 25px 55px rgba(0,0,0,0.45));
    }

    #icon.expand{
      transform: scale(14);
      opacity: 0;
    }

    /* LETTER SCREEN */
    #letterScreen{
      position: fixed;
      inset: 0;
      z-index: 10;
      display: none;
      overflow: auto;
      scroll-behavior: smooth;
    }

    /* Full background image */
    .letterBg{
      position: relative;
      width: 100vw;
      min-height: 100vh;
      background-image: url("letter-bg.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    /* ‚úÖ Writing area INSIDE beige blank space */
    .writingArea{
      position: absolute;

      /* üî• adjust these if needed */
      left: 16%;
      top: 16%;
      width: 68%;
      height: 72%;

      padding: 20px 20px;
      color: #1f1f27;
      line-height: 1.75;

      overflow: auto; /* scroll inside this box */
    }

    .title{
      font-family: "Playfair Display", serif;
      font-size: 30px;
      font-weight: 800;
      margin-bottom: 12px;
    }

    .typing{
      font-family: "Caveat", cursive;
      font-size: 26px;
      white-space: pre-wrap;
    }

    /* Mobile adjustment */
    @media (max-width: 600px){
      .writingArea{
        left: 10%;
        top: 14%;
        width: 80%;
        height: 74%;
        padding: 14px 14px;
      }
      .title{ font-size: 24px; }
      .typing{ font-size: 23px; }
    }

    /* ------------------ CLICK HEARTS/FLOWERS ------------------ */
    #particles{
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 99999;
    }

    .particle{
      position: absolute;
      animation: floatUp 1.8s ease-out forwards;
      will-change: transform, opacity;
      filter: drop-shadow(0 12px 18px rgba(0,0,0,0.35));
      user-select: none;
    }

    @keyframes floatUp{
      0%{
        transform: translate(-50%, -50%) scale(0.6);
        opacity: 0;
      }
      15%{
        opacity: 1;
      }
      100%{
        transform: translate(-50%, -140px) scale(1.3);
        opacity: 0;
      }
    }
  </style>
</head>

<body>

  <a class="back" href="home.html">‚Üê Back</a>

  <!-- envelope intro -->
  <div id="intro">
    <img id="icon" src="letter-icon.png" alt="Letter Icon" />
  </div>

  <!-- actual letter -->
  <div id="letterScreen">
    <div class="letterBg">
      <div class="writingArea">
        <div class="title">My Love, üíó</div>
        <div id="typedText" class="typing"></div>
      </div>
    </div>
  </div>

  <!-- click particles layer -->
  <div id="particles"></div>

  <script>
    const icon = document.getElementById("icon");
    const intro = document.getElementById("intro");
    const letterScreen = document.getElementById("letterScreen");
    const typedText = document.getElementById("typedText");

    // filler letter for now
    const LETTER = `
Happy Birthday, my love üíó

Today is your day‚Ä¶ but honestly, I feel like I‚Äôm the lucky one.
Lucky to know you, to love you, and to have you in my life.

Even if we‚Äôre far ‚Äî India to France ‚Äî you still feel close to my heart.
I love the way you make me smile without even trying.
I love the comfort I feel just by thinking about you.

I made this little website for you because I wanted you to feel special ‚Äî
not just today, but every time you open it.

You deserve the best things in life:
happiness, peace, success,
and a love that never feels uncertain.

So here I am,
celebrating you,
missing you,
and loving you‚Ä¶ always.

Happy Birthday once again, my baby ‚ù§Ô∏è

‚Äî Yours,
Nikita
    `.trim();

    function typeText(text, speed = 18){
      let i = 0;
      typedText.textContent = "";

      const timer = setInterval(() => {
        typedText.textContent += text[i];
        i++;

        // auto scroll inside writing area while typing
        const writingArea = document.querySelector(".writingArea");
        writingArea.scrollTop = writingArea.scrollHeight;

        if(i >= text.length){
          clearInterval(timer);
        }
      }, speed);
    }

    function openLetter(){
      icon.classList.add("expand");

      setTimeout(() => {
        intro.style.display = "none";
        letterScreen.style.display = "block";
        typeText(LETTER, 18);
      }, 850);
    }

    // auto start
    window.addEventListener("load", () => {
      setTimeout(openLetter, 350);
    });

    // allow click too
    icon.addEventListener("click", openLetter);

    // üíó Click hearts/flowers
    const particles = document.getElementById("particles");
    const emojis = ["üíó","üíñ","üíï","üå∏","üå∑","üíê","ü©∑"];

    function popParticle(x, y){
      const el = document.createElement("div");
      el.className = "particle";
      el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      el.style.left = x + "px";
      el.style.top = y + "px";
      el.style.fontSize = (22 + Math.random()*18) + "px";

      particles.appendChild(el);
      setTimeout(() => el.remove(), 1800);
    }

    function onTap(e){
      const x = e.clientX ?? e.touches?.[0]?.clientX;
      const y = e.clientY ?? e.touches?.[0]?.clientY;
      if(x == null || y == null) return;

      popParticle(x, y);
      popParticle(x + (Math.random()*30 - 15), y + (Math.random()*30 - 15));
    }

    document.addEventListener("click", onTap);
    document.addEventListener("touchstart", onTap, { passive: true });
  </script>

</body>
</html>
